licenses(["notice"])  # Apache 2

exports_files([
    "Envoy-Bridging-Header.h",
    "EnvoyEngine.h",
    "EnvoyEngineImpl.h",
    "EnvoyHttpStream.h",
    "EnvoyTypes.h",
])

objc_library(
    name = "envoy_engine_objc_lib",
    # TODO(@goaway): The headers here should really be in hdrs, but this causes them to be imported
    # twice due to the way they're pulled into our swift framework rule. We should fix this to
    # maintain a valid objc target.
    srcs = [
        "EnvoyEngineImpl.m",
        "EnvoyHttpStream.m",
        "EnvoyTypes.m",
    ],
    hdrs = [
        "EnvoyEngine.h",
        "EnvoyEngineImpl.h",
        "EnvoyHttpStream.h",
        "EnvoyTypes.h",
    ],
    visibility = ["//visibility:public"],
    deps = ["//library/common:envoy_main_interface_lib"],
)
